<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" `
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
</head>

<body>

    <head>
        <div class="conatiner">
            <div class="row">
                <div id="Padright_navbar" class="col-md-12">
                    <!--上頭nav bar-->

                    <nav class="navbar navbar-light  justify-content-end">
                        <ul class="nav justify-content-end">
                            <li class="nav-item">
                                <input type="checkbox" id="switch" class="switch-input" />
                                <label for="switch" class="switch"> </label>
                            </li>
                            <!-- 聯絡資訊 -->
                            <li class="nav-item">
                                <i class="fa-solid fa-circle-question" data-bs-toggle="tooltip" data-bs-placement="left"
                                    title='聯絡資訊:aaa@gmail.com'></i>
                            </li>
                            <li class="nav-item">
                                <!-- 訂單提示 -->
                                <i class="fa-solid fa-bell"></i>
                            </li>
                            <li class="nav-item">
                                <!-- 寄信給我們 -->
                                <a href="mailto:xxx@gmail.com   " id="mailUs"> <i class="fa-solid fa-envelope"></i></a>

                            </li>
                            <li class="nav-item">
                                <!-- <a class="nav-link disabled">Disabled</a> -->
                                名悅便當店
                            </li>
                        </ul>
                    </nav>
                </div>
    </head>
    <script>
        function btn() {
            $.ajax("./Jsontest.json")//toarry
                .done(function (apple) {
                    var foodname = document.getElementsByName('foodName');
                    var foodg = document.getElementsByName('foodG');
                    var tota=0;
                    var totb=0;
                    var totc=0;
                    var totd=0;
                    for (var i = 0; i < foodname.length; i++) {
                        if (foodname[i].value != "" && foodg[i].value != "") {
                            var CALORIE;
                            var CARB;
                            var FAT;
                            var PROTEIN;
                            for (var a of apple) {
                                if (foodname[i].value == a.INGREDIENT_NAME) {
                                    b = a.INGREDIENT_NAME;
                                    CALORIE = a.CALORIE;
                                    CARB = a.CARB;
                                    FAT = a.FAT;
                                    PROTEIN = a.PROTEIN
                                    var catchN = Number(foodg[i].value);
                                    var a = (100 * catchN) * (CALORIE * 100) / 10000
                                    var b = (100 * catchN) * (CARB * 100) / 10000;
                                    var c = (100 * catchN) * (FAT * 100) / 10000;
                                    var d = (100 * catchN) * (PROTEIN * 100) / 10000;
                                    tota += a;
                                    totb += b;
                                    totc += c;
                                    totd += d;
                                }

                            }
                        }
                    }
                    $('#test3').text(
                        "熱量:" + `${tota}` +
                        "kcal。碳水化合物:" + `${totb}` +
                        "g。脂肪:" + `${totc}` +
                        "g。蛋白質:" + `${totd}` + "g。");

                    console.log(CALORIE + ":" + CARB + ":" + FAT + ":" + PROTEIN);
                })
                .fail(function () {
                    alert("error");
                })
       }
    </script>
</body>

</html>